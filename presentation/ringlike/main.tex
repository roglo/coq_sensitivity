\documentclass[t]{beamer}
\input{common.tex}

% Images
\pgfdeclareimage[interpolate=true,height=0.7cm]{ordo1}{images/ordo1}
\pgfdeclareimage[interpolate=true,height=0.7cm]{ordo1-0}{images/ordo1-0}
\pgfdeclareimage[interpolate=true,height=2.0cm]{ordo2}{images/ordo2}
\pgfdeclareimage[interpolate=true,height=2.0cm]{ordo2ech}{images/ordo2echec}
\pgfdeclareimage[interpolate=true,height=2.0cm]{ordo2ech2}{images/ordo2echec2}
\pgfdeclareimage[interpolate=true,width=8.0cm]{ordo2seul}{images/ordo2seul}
\pgfdeclareimage[interpolate=true,width=8.0cm]{ordo2pgcd}{images/ordo2pgcd}
\pgfdeclareimage[interpolate=true,height=3.0cm]{ordo3pgcd}{images/ordo3pgcd}
\pgfdeclareimage[interpolate=true,height=3.0cm]{ordo3}{images/ordo3}
\pgfdeclareimage[interpolate=true,height=3.0cm]{ordo3fond}{images/ordo3fond}
\pgfdeclareimage[interpolate=true,height=1.5cm]{ordo12}{images/ordo12}
\pgfdeclareimage[interpolate=true,height=1.451cm]{ordo13}{images/ordo13}
\pgfdeclareimage[interpolate=true,height=1.44cm]{ordo23}{images/ordo23}
\pgfdeclareimage[interpolate=true,height=2cm]{ordo3coro}{images/ordo3coro}

\begin{document}

\title[Irif - Inria]
{Ring-like algebraic structures \\
  formalized in Coq}
\author{Daniel de Rauglaudre}
\institute{\small Irif - Inria}
% \date{24th december 2020}
\frame{\titlepage}

% - work made in Coq
% - Ring-like algebraic structures formalizes in Coq

\frm{\only<1-4>{Reminder}\only<5>{Ring-likes}}{

  \begin{tabular}{lll}
    Semiring \only<1>{?} &
    \only<2->
        {: & $\mathbb{N}$} \\
    Ring \only<1-2>{?} &
    \only<3->{: & $\mathbb{Z}$, matrices} \\
    Field \only<1-3>{?} &
    \only<4->{: & $\mathbb{Q}$, $\mathbb{R}$, $\mathbb{C}$, ...} \\
  \end{tabular}

  \only<5> {
    \vsp All of them are ``ring-like'':
    \begin{itemize}
    \item Two operations: $+$ and $*$
    \item A lot of axioms in common
  \end{itemize}}
}

\frm{Record 1 - Operations}{

  {\footnotesize
    \only<1-2>{Record}\only<3->{Class} ring\_like\_op T := \\
    \hsp
    \begin{tabular}{ll}
      \{ zero : T; \\
      \ \ \ one : T; \\
      \ \ \ add : T $\rightarrow$ T $\rightarrow$ T; \\
      \ \ \ mul : T $\rightarrow$ T $\rightarrow$ T; \\
      \ \ \ opt\_opp : option (T $\rightarrow$ T); \\
      \ \ \ opt\_inv : option (T $\rightarrow$ T) \}
    \end{tabular}}

  \vsp

  \only<2->{
    {\footnotesize
      \begin{tabular}{l}
        Notation "0" := zero. \\
        Notation "1" := one. \\
        Notation "a + b" := (add a b). \\
        Notation "a * b" := (mul a b). \\
        Notation "- a" := (opp a). \\
        Notation "$^1$/ a" := (inv a). \\
      \end{tabular}}
    }

  \vsp

  \only<3->{
    {\footnotesize
      \begin{tabular}{l}
        Definition opp a :=
        match opt\_opp with Some f =$>$ f a $|$ None =$>$ zero end \\
        Definition inv a :=
        match opt\_inv with Some f =$>$ f a $|$ None =$>$ zero end \\
      \end{tabular}}
  }

}

\frm{Record 2 - properties}{

  \begin{tabular}{ll}
  opt\_opp : option (T $\rightarrow$ T); &
  \only<9->{is\_archimedean : bool} \\
  opt\_inv : option (T $\rightarrow$ T); &
  \only<9->{is\_complete : bool} \\
  \only<2->{is\_comm : bool} &
    \only<9->{is\_algebraically\_closed : bool} \\
  \only<3->{is\_ordered : bool} & \only<9->{is\_finite : bool} \\
  \only<4->{is\_integral : bool} & \only<9->{...} \\
  \only<5->{characteristic : nat} &
  \only<10->{consistent :} \\
  \only<6->{has\_decidable\_equality : bool} &
  \only<10->{\hsp not} \\
  \only<7->{has\_1\_different\_from\_0 : bool} &
  \only<10->{\hsp \hsp (is\_algebraically\_closed and} \\
  \only<8->{is\_euclidean : bool} &
  \only<10->{\hsp \hsp is\_finite)} \\
  \only<8->{is\_factorial : bool \\
    is\_principal : bool }
  \end{tabular}

}

\frm{Instanciation \& Application}{

  \begin{center}
    \begin{tabular}{l}
      is\_comm : bool; \\
      mul\_comm : \\
      \hsp if is\_comm then $\forall$ a b, a * b = b * a \\
      \hsp else not\_applicable;
    \end{tabular}
  \end{center}

  \vspace{1mm}

  \only<2-3>{
    \begin{tabular}{ll}
      \only<2-3>{\underline{nat}} &
      \only<3-3>{\underline{matrix}} \\
      \only<2-3>{is\_comm := true;} &
      \only<3-3>{is\_comm := false;} \\
      \only<2-3>{mul\_comm := Nat.mul\_comm;} &
      \only<3-3>{mul\_comm := NA;} \\
    \end{tabular}
  }

  \only<4-6>{
    \begin{tabular}{ll}
      & x * y = y * x \\
      \only<5-6>{
        & $>$ apply mul\_comm. \\
        \only<6-6>{
          & Unable to unify \\
          & \hsp "if is\_comm then $\forall$ a b, a * b = b * a \\
          & \hsp else not\_applicable" with x * y = y * x.}}
    \end{tabular}
  }

  \only<7->{
    \begin{tabular}{ll}
      & Theorem mul\_comm' : \\
      & \hsp is\_comm = true
      $\rightarrow$ $\forall$ a b, a * b = b * a. \\
      \only<8->{
        \\
        & x * y = y * x \\
        \only<9->{
          & $>$ apply mul\_comm'. \\
          \only<10->{
            & is\_comm = true \\}}}
    \end{tabular}
  }

}

\frm{Instanciation \& Application - 2}{

  \begin{center}
    \begin{tabular}{ll}
      \only<3->{& is\_comm : bool; \\}
      & mul\_1\_l : $\forall$ a, 1 * a = a; \\
      \only<2>{& mul\_1\_r : $\forall$ a, a * 1 = a; \\}
      \only<3->{
        & mul\_1\_r : \\
        & \hsp if is\_comm then not\_applicable \\
        & \hsp else $\forall$ a, a * 1 = a; \\}
    \end{tabular}
  \end{center}

  \vspace{1mm}

  \only<4>{
    \begin{tabular}{l}
      Theorem mul\_1\_r' : $\forall$ a, a * 1 = a. \\
    \end{tabular}
  }

}

\frm{Subtraction}{

  \hspace{1mm}
  \begin{tabular}{l}
    x + y = x + z $\implies$ y = z \\
    \only<2->{\\ x + y = x + z \\}
    \only<3->{- x + (x + y) = - x + (x + z)
      \only<7->{ $\leftarrow$ opposite exists!}\\}
    \only<4->{(- x + x) + y = (- x + x) + z \\}
    \only<5->{0 + y = 0 + z \\}
    \only<6->{y = z \\}
  \end{tabular}

}

\frm{Inverse vs. Division}{

}

%%%%%

\end{document}
